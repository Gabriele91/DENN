//info 
var workers threads()+1, seed date("%S%H%d%m%Y") 
//dataset 
var 
{
    nobatch false
    validation true
    input $validation ? "datasets/wdbc_normalized.db.gz" : "datasets/wdbc_novalidation_normalized.db.gz" 
    batch $nobatch ? 484 : 100
    batch_size $batch
    batch_offset $batch
}
//denn
var
{
    gens 5000
    sub_gens $nobatch ? 1 : 3
    np 20
    npp -1.0
    //de params
    //co ev params
    conet_build "best"
    conet_split "matrix"
    conet_select "best"
    //selection
    selection_type "best_no_double"
    //others
    clamp sqrt(561)
    //xavier rand
    rand 1.0 / sqrt(561)
    //LE
    crossover interm
    compute_test_per_pass false
    reval true
}
//output
var output "JADE_NN_WDBC.json", full_output "results/" + $output, stream "::cout"
//stats 
var stats false,
    stats_onefile true,
    stats_samples 100,
    stats_dir get_directory($full_output) ? 
              get_directory($full_output) : "./",
    stats_name get_basename($full_output) + "_stats",
    stats_output $stats_dir + "/" + $stats_name + ".json"

////////////////////////////////////////////////////////
//network
network
{
    fc[50]   sigmoid 
    fc[] 
    softmax
}

//Batch info
dataset $input
batch_size $batch_size
batch_offset $batch_offset
use_validation $validation 
compute_test_per_pass $compute_test_per_pass
reval_pop_on_batch $reval

conet_build $conet_build
conet_split $conet_split
conet_select $conet_select

//DE Params
evolution_method JADE 
{
    //jade params
    archive_size 0
    //mutations
    mutation curr_p_best
    //crossover
    crossover $crossover
}

//selection $selection_type
generations $gens
sub_gens $sub_gens
number_parents $np
number_parents_percentage $npp

//init individuals
distribution uniform {
    uniform_min -$rand
    uniform_max  $rand
}
clamp_max  $clamp
clamp_min  -$clamp


//threads, seed, and output
threads_pop $workers
seed $seed
output $full_output
runtime_output_file $stream

//stats
stats_avg $stats
stats_variance $stats 
stats_distance $stats
stats_samples $stats_samples
stats_onefile $stats_onefile
stats_output $stats_output